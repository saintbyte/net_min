[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Fsaintbyte%2Fnet_min.svg?type=shield)](https://app.fossa.com/projects/git%2Bgithub.com%2Fsaintbyte%2Fnet_min?ref=badge_shield)

# Net_Min #
Расчет минимально возможной сети для некоторого множества IP. Поддерживает IPv4/IPv6. 
Если в множестве IP есть IPv6 - адреса IPv4 будут преобразованы в IPv6


 ## Алгоритм ##
 1. Получаем лист
 2. Если есть ipv6 то преобразуем все в него. ( нормализация списка )
 3. Преобразуем IP в int  
 4. Получаем самый маленький ip
 5. Получаем самый большой ip ( два прохода и никакой сортировки - быстрее )
 6. Преобразуем оба IP в бинарную форму
 7. Сравниваем по битно с начала , каждое прошедшие сравнение пишем в счетчик
 8. Как только биты не равны, получаем маску сети.
 8. Получаем первый IP cети
 10. Добавляем к первому IP / получается подсеть

## Использование ##
Список параметров прост: IP в десятиричном представление для IPv4  ( например 192.122.122.1 )
 или в шестнадцатиричном для IPv6 ( например 2002:7f00:1:: ) через пробел в любом количестве

Пример: 
```
 ./net_min.py 126.9.9.1 2.122.122.1 89.12.21.1 
 0.0.0.0/1
```

## Зависимости ##
Должно работать из уже имеющихся в питоне 3 модулях( socket , struct ), но если хочеться погонять тесты на pytest то ставить его ( pip3 install pytest ) 

## Тесты ##
Куда сейчас без TDD?.  Просто поставьте pytest и перейдя в директорию запустите pytest

## TODO ##
Сделать нормальную проверку валидности IP ( а то сейчас просто падает со стектрейсом если  IP неправильный )

## License
[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Fsaintbyte%2Fnet_min.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Fsaintbyte%2Fnet_min?ref=badge_large)